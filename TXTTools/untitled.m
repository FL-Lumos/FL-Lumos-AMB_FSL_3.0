
%     % 读入txt数据文件
% fileName = 'D:\DTOOL\科研\课题-升降速异常检测\智能故障检测_离线扫描定位软件\documents-export-2023-12-25\1204.txt';
% fid = fopen(fileName, 'r');
% txt_data = fread(fid, '*char');
% fclose(fid);  
%     % 开始计时
% tic

% % TXT_readChannelOrGroup(fileName);


% for idx=1:length(txt_data)/2944
%    % pkg = '2af44a65491b8974f92a000000007d10a000a4fd7502e7ffeafe920144010402d400d201fd0073016101b10125017c10a000aafd7a02eaffeafe950140010202d500c901130170016401b10127017c10a300a7fd4802f6fff4fe960142010402d400bb011a016f016501ac012a017d109d009ffd4802e4fff4fe940142010402d600ba011f016e016701ab012c017d10a100a1fd2502edffeafe930144010702d200c7010b016b016601a9012e017d109d00adfd1502edfff4fe970141010b02ce00ca0109016f016301aa012a017d10a300a1fdd801e9ffeafe930142010802ce00dd01fa0070016501ae0129017d10a2009ffd7f02efffe0fe940142010002d400e801e60070016501ad012a017d10a2009efd0e02e7ffeafe900147010702d200ef01ea0070016701ae0129017c10a2009ffdfc01d9ffeafe930144010702d100c6010d016f016701b00128017d10a2009bfd2902e5ffe4fe940142010502d400e501ed0071016301ad012a017d109c009efd6d02e3ffdcfe950141010202d500e201fa0076016001ac012b017d109d0096fd2502dfffd8fe97013f010502d300c3010b0173016101ae0128017d109d00a0fde402f3ffdcfe99013d010502d300b401230172016201b20126017d109f009dfdb702e5ffe8fe98013f010902d100b601210172016401b30124017d109d00a4fd9c02ddffdcfe950141010402d5008e014a016d016701b00127017d109d00a3fd9e02e4ffe6fe940142010602d100aa01290170016501ad012a017d109900a2fdaf02e6ffe9fe960142010402d300bb01120173016101b00126017d1098009ffd7f02e0ffe6fe960141010602d100c101100173016201b10125017c109b00a9fdef01ebffedfe970140010802d000c201160172016301b10126017d109700a2fd4f02e0ffe6fe970141010902d000d501020172016001b30124017d109800a6fd6e02ecffeffe950142010402d600f401da0070016401b10125017c109800abfd1c02e9fff2fe970140010802d100c8010e0173016101b20124017d109700b1fd9c02e9ffeffe960142010602d200c301130170016401af0127017d109600affd8a02edfff1fe960141010102d500d201ff0070016601ae0129017d109600acfdd001e9ffeefe97013f01ff01d700af0126016f016501ae0127017d109200aafd3102e4fff1fe970140010102d500ce010d016f016401af0128017d1096009efdb801e1ffeefe970140010302d500ff01cd006f016301af0129017d109900affd7002eeffeefe98013e010502d400d801f50071016301ac012a017d109600abfd6902e5ffeefe950142010a02d200f001f30072016101ac012b017d109400adfd3102e4ffdefe94014301ff01d900b00126016f016501ac012c017d109500adfd0003ecffdafe960140010102d500b30115016f016601ac012b017d109900adfd0b03e4ffd9fe970141010402d300c7011b016f016301b00129017d109600affdc902f7ffdefe950142010302d500900149016e016601b30126017d109c00a5fd7b02e4ffe5fe930142010302d200980131016e016401b30122017e109b00a4fd3302e5ffe3fe950142010302d600c5010b016c016601af0126017d109c00a0fd0302eeffe3fe920145010802d300dc01f90070016401ac0129017d10a50099fdd101e6ffe6fe950143010802d000ea01eb0071016301ad0128017d10a0009ffdef01edffe5fe930143010a02cd00ef01e40070016401b00127017d109f009ffd5702eaffe9fe900148010d02cc00eb01e70071016301b10127017d10a3009ffd3902e9ffe4fe940143010802cf00d501fe0070016501b10125017d10a4009ffd6802f3ffe8fe930143010802d100b8011b0170016301b10125017d109d009dfd1f02e7ffe8fe910146010702d100ca010a0171016401b30124017d10a000a1fd2502ebffe8fe910145010702d000c90107016f016801b30124017d109f00a3fdc102f3ffe8fe950142010802d100e401f50070016401b1012501d967f43f000000001f1001000000aaaaaaaa';
%     pkg = txt_data((idx-1)*2944+1:idx*2944)';
%     disp(idx);

%     str=pkg(1:8);
%     str2=['0x' str(7:8) str(5:6) str(3:4) str(1:2) 'u32'];
%     tt_sec=hex2dec(str2);

%     str=pkg(9:12);
%     str2=['0x' str(3:4) str(1:2) 'u16'];
%     tt_100u=hex2dec(str2);

%     pos=29;
%     volt_raw=zeros(45,16);
%     for(jdx=1:45)
%         idx = 1;
%         str=pkg(pos:pos+3);
%         str2=['0x' str(3:4) str(1:2) 's16'];
%         volt_raw(jdx,idx)=hex2dec(str2)/2048;
%         pos= pos+4;

%         for idx=2:6
%             str=pkg(pos:pos+3);
%             str2=['0x' str(3:4) str(1:2) 's16'];
%             volt_raw(jdx,idx)=hex2dec(str2)/32;
%             pos= pos+4;
%         end
%         for idx=7:16
%             str=pkg(pos:pos+3);
%             str2=['0x' str(3:4) str(1:2) 's16'];
%             volt_raw(jdx,idx)=hex2dec(str2)/256;
%             pos= pos+4;
%         end
%     end

%     pos=1454*2+1;
%     str=pkg(pos:pos+7);
%     str2=[str(7:8) str(5:6) str(3:4) str(1:2)];
%     speed_hz=hex2num(str2);

%     pos=1458*2+1;
%     str=pkg(pos:pos+7);
%     str2=[str(7:8) str(5:6) str(3:4) str(1:2)];

%     rotor_angle_rad=hex2num(str2);

% end

    

      
% elapsedTime = toc;

% fprintf('代码执行时间: %.4f 秒\n', elapsedTime);

    
    

startTime = datetime(1970,1,1,0,0,0);
% 将timeData(1)转换为秒数
seconds = 1699410986.6985/(24*60*60);
% 在startTime的基础上加上秒数，得到当前的datetime对象
currentTime = startTime + seconds;
% 将currentTime格式化为yyyy-mm-dd hh:MM:ss的字符串
currentDate = datestr(currentTime,'yyyy-mm-dd HH:MM:SS')

startTime = datetime(1970,1,1,0,0,0);
    % 将timeData(1)转换为天数
day_temp = 1699410986.6985/(24*60*60);
% 在startTime的基础上加上秒数，得到当前的datetime对象
currentTime = startTime + day_temp;
% 将currentTime格式化为yyyy-mm-dd hh:MM:ss的字符串
date = datestr(currentTime,'yyyy-mm-dd HH:MM:SS')

